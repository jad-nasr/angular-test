<h2>Create New User</h2>

<form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
  <div class="form-field">
    <label for="name">First Name (or Full Name):</label>
    <input id="name" type="text" formControlName="name">
    <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="error-messages">
      <small *ngIf="name?.errors?.['required']">Name is required.</small>
    </div>
  </div>

  <div class="form-field">
    <label for="lastname">Last Name:</label>
    <input id="lastname" type="text" formControlName="lastname">
    <div *ngIf="lastname?.invalid && (lastname?.dirty || lastname?.touched)" class="error-messages">
      <small *ngIf="lastname?.errors?.['required']">Last name is required.</small>
    </div>
  </div>

  <div class="form-field">
    <label for="description">Description (Optional):</label>
    <textarea id="description" formControlName="description"></textarea>
  </div>

  <div class="form-actions">
    <button type="submit" [disabled]="userForm.invalid || isLoading">
      {{ isLoading ? 'Creating...' : 'Create User' }}
    </button>
  </div>
</form>

<div *ngIf="successMessage" class="success-message">
  {{ successMessage }}
</div>
<div *ngIf="errorMessage" class="error-messages feedback-error">
  {{ errorMessage }}
</div>
